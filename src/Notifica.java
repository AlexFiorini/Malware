import java.awt.*;
import java.io.IOException;
import java.net.URISyntaxException;
import java.net.URL;

public class Notifica {
    private final String img;
    private final String caption;
    private final String message;
    public boolean opened;

    Notifica(String img, String caption, String message) {
        this.img = img;
        this.caption = caption;
        this.message = message;
        this.opened = false;
    }

    public void mostraNotifica() throws AWTException, IOException, URISyntaxException {
        if (SystemTray.isSupported()) {
            SystemTray tray = SystemTray.getSystemTray();
            TrayIcon trayIcon = new TrayIcon(Toolkit.getDefaultToolkit().createImage(img));
            trayIcon.setImageAutoSize(true);
            try {
                tray.add(trayIcon);
            } catch (AWTException e) {
                e.printStackTrace();
            }
            trayIcon.addActionListener(e -> {
                try {
                    Desktop.getDesktop().browse(new URL("https://www.youtube.com/watch?v=dQw4w9WgXcQ").toURI());
                } catch (IOException | URISyntaxException ioException) {
                    ioException.printStackTrace();
                }
                opened = true;
            });
            trayIcon.displayMessage(caption, message, TrayIcon.MessageType.NONE);
            try {
                Thread.sleep(3000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            tray.remove(trayIcon);
        }
    }
}