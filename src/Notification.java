import java.awt.*;
import java.io.IOException;
import java.net.URISyntaxException;
import java.net.URL;

public class Notification {
    Notification() {

    }

    public void showNotification()  throws AWTException, IOException, URISyntaxException {
        if (SystemTray.isSupported()) {
            SystemTray tray = SystemTray.getSystemTray();
            Image image = Toolkit.getDefaultToolkit().createImage("Resources/icon.png");
            TrayIcon trayIcon = new TrayIcon(image, "Tray Demo");
            trayIcon.setImageAutoSize(true);
            trayIcon.setToolTip("System tray icon demo");
            try {
                tray.add(trayIcon);
            } catch (AWTException e) {
                e.printStackTrace();
            }
            trayIcon.displayMessage("Sei un fortunato vincitore!", "Hai vinto un Iphone 14 Pro Max. Clicca il link per ottenerlo", TrayIcon.MessageType.INFO);

            trayIcon.addActionListener(event -> {
                try {
                    Desktop.getDesktop().browse(new URL("https://www.youtube.com/watch?v=dQw4w9WgXcQ").toURI());
                    System.out.println("Link aperto");
                } catch (IOException | URISyntaxException e) {
                    e.printStackTrace();
                }
            });
        }
    }
}
